
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Care Questions — Home</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="container header">
    <a class="top-button" href="#care-team" data-open="modal-care-team" role="button" aria-haspopup="dialog">Your Care Team</a>
    <a class="top-button" href="#helpful-info" data-open="modal-helpful" role="button" aria-haspopup="dialog">Helpful Information</a>
  </header>

  <main class="container grid">
    <!-- Start Here card -->
    <button class="card card-start" id="startHereBtn" aria-haspopup="dialog" aria-controls="startModal">
      <span class="start-title">Start Here</span>
    </button>

    <!-- Row 1 -->
    <a class="card card-link" href="https://ilonafridman.github.io/diagnosis/diagnosis.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to ask after being diagnosed</div>
    </a>
    <a class="card card-link" href="https://ilonafridman.github.io/choosingtreatment/choosingtreatment.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to explore for choosing treatment</div>
    </a>

    <!-- Row 2 -->
    <a class="card card-link" href="https://ilonafridman.github.io/treatment/treatment.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to ask during treatment</div>
    </a>
    <a class="card card-link" href="https://ilonafridman.github.io/afterdiagnosis/afterdiagnosis.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions after Treatment</div>
    </a>
    <a class="card card-link" href="https://ilonafridman.github.io/complementary/complementary.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to ask about integrative therapy</div>
    </a>
  </main>

  <!-- ===== Start Here Modal (multi-section) ===== -->
  <div class="modal" id="startModal" role="dialog" aria-modal="true" aria-labelledby="startModalTitle" aria-hidden="true">
    <div class="modal-backdrop" data-close="startModal"></div>
    <div class="modal-card" role="document">
      <button class="icon-btn close" aria-label="Close dialog" data-close="startModal">✕</button>

      <div class="modal-header">
        <h2 id="startModalTitle">Let’s tailor questions for you</h2>
        <p class="lede">
          Choose one or more sections below and check the questions you want to bring to your care team.
        </p>
      </div>

      <!-- Accordion sections (open > one or many) -->
      <div class="accordion" id="accordion">
        <!-- Sections will be injected by JS -->
      </div>

      <div class="modal-footer">
        <button class="primary" id="printBtn" disabled>Download / Print PDF</button>
        <div class="links-pack">
          <a class="secondary" href="https://ilonafridman.github.io/treatment/treatment.html" target="_blank" rel="noopener">During treatment</a>
          <a class="secondary" href="https://ilonafridman.github.io/complementary/complementary.html" target="_blank" rel="noopener">Integrative therapy</a>
          <a class="secondary" href="https://ilonafridman.github.io/afterdiagnosis/afterdiagnosis.html" target="_blank" rel="noopener">After treatment</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Minimal modals for header buttons (stub) -->
  <div class="modal" id="modal-care-team" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-backdrop" data-close="modal-care-team"></div>
    <div class="modal-card">
      <button class="icon-btn close" aria-label="Close dialog" data-close="modal-care-team">✕</button>
      <h2>Your Care Team</h2>
      <p>Add team roles and contacts here.</p>
    </div>
  </div>

  <div class="modal" id="modal-helpful" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-backdrop" data-close="modal-helpful"></div>
    <div class="modal-card">
      <button class="icon-btn close" aria-label="Close dialog" data-close="modal-helpful">✕</button>
      <h2>Helpful Information</h2>
      <p>Quick links to patient portal, financial counseling, transportation, support, etc.</p>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>

<!-- ======================================================================
File: /styles.css
====================================================================== -->
:root{
  --bg:#f6f9fc;
  --card:#ffffff;
  --ink:#0f172a;
  --muted:#475569;
  --ring:rgba(59,130,246,.35);
  --shadow:0 10px 25px rgba(2,8,23,.12), 0 2px 6px rgba(2,8,23,.08);
  --radius:20px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Arial, ui-sans-serif, system-ui, -apple-system, "Helvetica Neue";
  font-size: 17px; /* slightly larger */
  color:var(--ink);
  background:var(--bg);
}

.container{max-width:1200px;margin:20px auto;padding:0 16px}
.header{display:flex;gap:16px;justify-content:flex-end;align-items:center;margin-bottom:8px}

.top-button{
  background:linear-gradient(180deg,#e8f0ff,#d5e6ff);
  color:#0b2a5d;text-decoration:none;
  padding:14px 22px;border-radius:14px;border:2px solid #a3c2ff;font-weight:700;
  box-shadow:var(--shadow);
}
.top-button:focus-visible{outline:3px solid var(--ring);outline-offset:3px}

.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px}
.card{
  background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  text-align:center;padding:12px;min-height:220px;border:1px solid #e5e7eb;
}
.card-start{background:#dff0fa;border:2px solid #b6e0fb;cursor:pointer}
.start-title{font-size:40px;font-weight:800;color:#17324a}
.card-link{ color:inherit; text-decoration:none; }
.card-link .card-img{ width:100%; height:140px; border-radius:14px; background:#e9eef5; margin-bottom:12px; }
.card-title{ font-size:20px; font-weight:800; line-height:1.2; }

@media (max-width: 900px){ .grid{ grid-template-columns:1fr 1fr } .card-start .start-title{font-size:34px}}
@media (max-width: 640px){ .grid{ grid-template-columns:1fr } .header{justify-content:center}}

.modal{ position:fixed; inset:0; display:none; }
.modal[aria-hidden="false"]{ display:block; }
.modal-backdrop{ position:absolute; inset:0; background:rgba(15,23,42,.45); backdrop-filter: blur(4px); }
.modal-card{
  position:relative; max-width:920px; margin:6vh auto; background:var(--card); border-radius:22px;
  box-shadow:var(--shadow); padding:24px 22px 16px; border:1px solid #e5e7eb;
}
.icon-btn.close{ position:absolute; right:10px; top:10px; background:#efefef; border:none;border-radius:999px; width:36px; height:36px; cursor:pointer; }
.modal-header h2{ margin:4px 0 8px; font-size:28px }
.lede{ color:var(--muted); margin:0 0 14px; font-size:16px }

.accordion{ display:flex; flex-direction:column; gap:12px; }
.section{
  border:1px solid #d9e3f5; border-radius:16px; background:#f7fbff; overflow:hidden;
}
.section summary{
  list-style:none; cursor:pointer; padding:12px 16px; font-weight:800; color:#0c2f66;
  background:#edf4ff; border-bottom:1px solid #d9e3f5;
}
.section[open] summary{ background:#dce9ff }
.section-content{ max-height:60vh; overflow:auto; padding:8px; }
.q-list{ list-style:none; padding:0; margin:0; }
.q-list li{ display:flex; gap:10px; padding:10px 8px; border-bottom:1px solid #eaeef5; line-height:1.35 }
.q-list li:last-child{ border-bottom:none }

.modal-footer{
  display:flex; gap:12px; justify-content:space-between; align-items:center; margin-top:12px; flex-wrap:wrap;
}
.primary{
  background:linear-gradient(180deg,#60a5fa,#3b82f6);
  color:white; border:none; border-radius:12px; padding:12px 18px; font-weight:800; cursor:pointer;
}
.primary[disabled]{opacity:.5; cursor:not-allowed}
.secondary{
  border:1px solid #cbd5e1; border-radius:12px; padding:10px 14px; text-decoration:none; color:#0b2a5d; font-weight:700; background:#f8fafc;
}
.links-pack{ display:flex; flex-wrap:wrap; gap:8px }

:where(button,a,input,summary):focus-visible{ outline:3px solid var(--ring); outline-offset:2px }

/* Print preview window (not this page) is styled inline in JS */

<!-- ======================================================================
File: /app.js
====================================================================== -->
// Topics + questions
const TOPICS = {
  during: {
    title: "I am about to or going through treatment",
    moreLink: "https://ilonafridman.github.io/treatment/treatment.html",
    questions: [
      "Can you walk me through the steps involved in my treatment plan?",
      "What side effects should I expect from my treatment?",
      "Are there any tools or tips you recommend for coping with common side effects?",
      "When should I contact my healthcare team between visits?",
      "Whom should I talk to if I need to deal with side effects?",
      "Who can I reach out to between appointments if I have questions or concerns?",
      "How long does it take for a doctor to answer my questions that I ask using my chart?",
      "What should I do if my personal situation makes it hard to get to treatment?",
      "Are there counselors or support groups available for people in my situation?",
      "What integrative therapy services are available to support me during treatment?",
      "Who can help me with transportation to my treatment appointments?",
      "The cost of my treatment is high—what options do I have for financial assistance?"
    ]
  },
  integrative: {
    title: "I hope to learn about complementary & integrative therapy",
    moreLink: "https://ilonafridman.github.io/complementary/complementary.html",
    questions: [
      "Which integrative therapies (e.g., acupuncture, massage, mindfulness) are safe with my treatment?",
      "What evidence supports these therapies for people with my diagnosis?",
      "Could supplements or herbs interact with my medicines or treatments?",
      "Who should I consult before trying vitamins, herbs, or over-the-counter products?",
      "Can integrative therapies reduce fatigue, pain, or anxiety during treatment?",
      "Are integrative services available at our center or nearby?",
      "How many sessions are usually needed and how soon might I feel benefits?",
      "Are these services covered by insurance or available at reduced/no cost?",
      "How should I track benefits or side effects from integrative therapies?",
      "Who should I contact if I notice any concerning effects?"
    ]
  },
  after: {
    title: "I completed my treatment. What is next?",
    moreLink: "https://ilonafridman.github.io/afterdiagnosis/afterdiagnosis.html",
    questions: [
      "What follow-up visits and tests do I need, and how often?",
      "Which symptoms should prompt me to call the clinic between visits?",
      "What late or long-term side effects should I look out for?",
      "How can I manage fatigue, pain, or brain fog after treatment?",
      "When is it safe to return to work, exercise, and daily routines?",
      "How can I support my emotional health and reduce anxiety about recurrence?",
      "What vaccines, screenings, or primary-care visits do I need?",
      "Who can help with financial/insurance questions after treatment?",
      "Are there survivorship programs, support groups, or classes I can join?",
      "How do I get a written survivorship care plan?"
    ]
  }
};

// Fixed recommendations (always shown on the PDF)
const RECOMMENDATIONS = [
  "<b>Consider bringing a friend or loved one</b> to help you remember information shared during your appointment.",
  "<b>Learn about your specific condition</b> from trusted sources of information.",
  "<b>Your healthcare team welcomes your questions.</b> Don’t hesitate to ask to clarify anything you're unsure about.",
  "<b>Your questions are important.</b> Sharing your questions at the beginning of the appointment will help address your concerns.",
  "<b>Stay connected between visits.</b> You can reach your healthcare team between appointments through patient portals, by phone, or email. Reach out when questions arise.",
  "<b>Connect with others.</b> Many patients find it helpful to join a support group or reach out to social workers or patient advocates who can connect you with resources for emotional support."
];

/* Elements */
const startHereBtn = document.getElementById("startHereBtn");
const questionContainer = document.getElementById("accordion");
const printBtn = document.getElementById("printBtn");

/* Modal lifecycle */
function openModal(id){
  const el = document.getElementById(id);
  el.setAttribute("aria-hidden","false");
  const first = el.querySelector("button, [href], input, summary");
  if(first) first.focus();
  document.addEventListener("keydown", escClose);
}
function closeModal(id){
  const el = document.getElementById(id);
  el.setAttribute("aria-hidden","true");
  document.removeEventListener("keydown", escClose);
}
function escClose(e){ if(e.key === "Escape"){ document.querySelectorAll(".modal[aria-hidden='false']").forEach(m=>m.setAttribute("aria-hidden","true")); } }

document.querySelectorAll("[data-open]").forEach(btn=>{
  btn.addEventListener("click", e => { e.preventDefault(); openModal(btn.getAttribute("data-open")); });
});
document.querySelectorAll("[data-close]").forEach(btn=>btn.addEventListener("click", ()=>closeModal(btn.getAttribute("data-close"))));
document.querySelectorAll(".modal-backdrop").forEach(bg=>bg.addEventListener("click", ()=>closeModal(bg.getAttribute("data-close"))));
startHereBtn.addEventListener("click", ()=>openModal("startModal"));

/* Build accordion sections (multi-open) */
function buildSections(){
  questionContainer.innerHTML = "";
  Object.entries(TOPICS).forEach(([key, topic])=>{
    const details = document.createElement("details");
    details.className = "section";
    details.open = key === "during"; // open one by default

    const summary = document.createElement("summary");
    summary.textContent = topic.title;

    const wrap = document.createElement("div");
    wrap.className = "section-content";

    const list = document.createElement("ul");
    list.className = "q-list";

    topic.questions.forEach((q, idx)=>{
      const id = `q-${key}-${idx}`;
      const li = document.createElement("li");
      li.innerHTML = `<input type="checkbox" id="${id}" /><label for="${id}">${q}</label>`;
      list.appendChild(li);
    });

    wrap.appendChild(list);

    // Optional: quick link below each section
    const link = document.createElement("a");
    link.href = topic.moreLink;
    link.target = "_blank";
    link.rel = "noopener";
    link.className = "secondary";
    link.style.margin="8px";
    link.textContent = "Explore more questions";
    wrap.appendChild(link);

    details.appendChild(summary);
    details.appendChild(wrap);
    questionContainer.appendChild(details);
  });
}
buildSections();

/* Enable/disable print */
function updatePrintEnabled(){
  const anyChecked = !!document.querySelector(".q-list input[type='checkbox']:checked");
  printBtn.disabled = !anyChecked;
}
questionContainer.addEventListener("change", updatePrintEnabled);

/* Generate printable HTML using your template */
function buildPrintHTML(selected){
  const items = selected.map(s=>`<li>${s}</li>`).join("");
  const recs = RECOMMENDATIONS.map(r=>`<li>${r}</li>`).join("");

  // Important: Arial + larger font + rounded boxes matching your screenshot
  return `<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Questions You Chose</title>
<style>
  :root{ --ink:#0f172a; --accent:#15466a; --border:#1f5f86; }
  *{ box-sizing:border-box }
  body{
    font-family: Arial, sans-serif;
    color: var(--ink);
    margin: 0; padding: 28px;
    font-size: 18px; line-height: 1.5; /* slightly larger */
    background: #ffffff;
  }
  .frame{
    border:4px solid var(--border);
    border-radius:32px;
    padding: 18px;
  }
  .h-chip{
    display:block; text-align:center; font-weight:700; font-size:22px;
    color:#1b4e73; background:#e8f3ff; border:3px solid var(--border);
    padding:12px 16px; border-radius:16px; margin:-8px auto 14px; width:fit-content; min-width:280px;
  }
  .rounded-panel{
    border:5px solid var(--border);
    border-radius:28px;
    padding:20px; min-height:220px;
  }
  .spacer{ height:18px }
  ol,ul{ margin:0; padding-left:22px }
  li{ margin:8px 0 }
  .small{ font-size:14px; color:#334155; margin-top:16px }
  @media print { .pagebreak { page-break-before: always; } }
</style>
</head>
<body>
  <div class="frame">
    <div class="h-chip">Questions that you chose</div>
    <div class="rounded-panel">
      ${selected.length ? `<ul>${items}</ul>` : "<p>(No questions selected)</p>"}
    </div>

    <div class="spacer"></div>

    <div class="h-chip">Recommendations that other patients found helpful</div>
    <div class="rounded-panel">
      <ul>${recs}</ul>
    </div>
  </div>

  <script>window.addEventListener('load',()=>window.print());<\/script>
</body>
</html>`;
}

/* Download/Print */
document.getElementById("printBtn").addEventListener("click", ()=>{
  const selected = Array.from(document.querySelectorAll(".q-list input[type='checkbox']:checked"))
    .map(cb => cb.nextElementSibling.textContent.trim());

  if(!selected.length) return;

  const w = window.open("", "_blank");
  w.document.open();
  w.document.write(buildPrintHTML(selected));
  w.document.close();
});

/* Initialize */
updatePrintEnabled();
