<!-- ======================================================================
File: /index.html
====================================================================== -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Care Questions — Home</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="container header">
    <a class="top-button" href="#care-team" data-open="modal-care-team" role="button" aria-haspopup="dialog">Your Care Team</a>
    <a class="top-button" href="#helpful-info" data-open="modal-helpful" role="button" aria-haspopup="dialog">Helpful Information</a>
  </header>

  <main class="container grid">
    <!-- Start Here card -->
    <button class="card card-start" id="startHereBtn" aria-haspopup="dialog" aria-controls="startModal">
      <span class="start-title">Start Here</span>
    </button>

    <!-- Row 1: After Diagnosis / Choosing Treatment -->
    <a class="card card-link" href="https://ilonafridman.github.io/diagnosis/diagnosis.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to ask after being diagnosed</div>
    </a>
    <a class="card card-link" href="https://ilonafridman.github.io/choosingtreatment/choosingtreatment.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to explore for choosing treatment</div>
    </a>

    <!-- Row 2: During / After / Integrative -->
    <a class="card card-link" href="https://ilonafridman.github.io/treatment/treatment.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to ask during treatment</div>
    </a>
    <a class="card card-link" href="https://ilonafridman.github.io/afterdiagnosis/afterdiagnosis.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions after Treatment</div>
    </a>
    <a class="card card-link" href="https://ilonafridman.github.io/complementary/complementary.html" target="_blank" rel="noopener">
      <div class="card-img" aria-hidden="true"></div>
      <div class="card-title">Questions to ask about integrative therapy</div>
    </a>
  </main>

  <!-- ===== Start Here Modal ===== -->
  <div class="modal" id="startModal" role="dialog" aria-modal="true" aria-labelledby="startModalTitle" aria-hidden="true">
    <div class="modal-backdrop" data-close="startModal"></div>
    <div class="modal-card" role="document">
      <button class="icon-btn close" aria-label="Close dialog" data-close="startModal">✕</button>

      <div class="modal-header">
        <h2 id="startModalTitle">Let’s tailor questions for you</h2>
        <p class="lede">
          Many patients wonder what to ask. Choose a topic below and pick questions to discuss with your care team.
        </p>
      </div>

      <div class="selector">
        <button class="chip selected" data-topic="during">I am about to or going through treatment</button>
        <button class="chip" data-topic="integrative">I hope to learn about complementary & integrative therapy</button>
        <button class="chip" data-topic="after">I completed my treatment. What is next?</button>
      </div>

      <div class="list-wrap">
        <ul class="q-list" id="questionList" aria-live="polite"></ul>
        <div class="empty" id="emptyState" hidden>Select a topic to see questions.</div>
      </div>

      <div class="modal-footer">
        <button class="primary" id="printBtn" disabled>Download / Print PDF</button>
        <a class="secondary" id="moreBtn" target="_blank" rel="noopener">Explore more questions</a>
        <a class="secondary" id="resourceBtn" target="_blank" rel="noopener">Read e-resources</a>
      </div>
    </div>
  </div>

  <!-- Minimal modals for header buttons (stub) -->
  <div class="modal" id="modal-care-team" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-backdrop" data-close="modal-care-team"></div>
    <div class="modal-card">
      <button class="icon-btn close" aria-label="Close dialog" data-close="modal-care-team">✕</button>
      <h2>Your Care Team</h2>
      <p>This section can outline roles (medical oncologist, surgeon, radiation oncologist, nurse navigator, social worker, etc.).</p>
    </div>
  </div>

  <div class="modal" id="modal-helpful" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-backdrop" data-close="modal-helpful"></div>
    <div class="modal-card">
      <button class="icon-btn close" aria-label="Close dialog" data-close="modal-helpful">✕</button>
      <h2>Helpful Information</h2>
      <p>Add quick links to clinic maps, patient portal, financial counseling, transportation, and support services.</p>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>

<!-- ======================================================================
File: /styles.css
====================================================================== -->
:root{
  --bg:#f6f9fc;
  --card:#ffffff;
  --ink:#0f172a;
  --muted:#475569;
  --brand:#3b82f6;
  --brand-2:#2c5282;
  --ring:rgba(59,130,246,.35);
  --shadow:0 10px 25px rgba(2,8,23,.12), 0 2px 6px rgba(2,8,23,.08);
  --radius:20px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  color:var(--ink);
  background:var(--bg);
}

.container{max-width:1200px;margin:20px auto;padding:0 16px}

.header{
  display:flex;gap:16px;justify-content:flex-end;align-items:center;margin-bottom:8px;
}

.top-button{
  background:linear-gradient(180deg,#e8f0ff,#d5e6ff);
  color:#0b2a5d;text-decoration:none;
  padding:14px 22px;border-radius:14px;border:2px solid #a3c2ff;font-weight:700;
  box-shadow:var(--shadow);
}
.top-button:focus-visible{outline:3px solid var(--ring);outline-offset:3px}

.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:22px;
}

.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  text-align:center;padding:12px;min-height:220px;
  border:1px solid #e5e7eb;
}

.card-start{
  grid-column:1 / span 1; grid-row:1 / span 1;
  background:#dff0fa;border:2px solid #b6e0fb; position:relative; cursor:pointer;
}
.start-title{font-size:40px;font-weight:800;color:#17324a}

.card-link{ color:inherit; text-decoration:none; }
.card-link .card-img{ width:100%; height:140px; border-radius:14px; background:#e9eef5; margin-bottom:12px; }
.card-title{ font-size:20px; font-weight:800; line-height:1.2; }

@media (max-width: 900px){
  .grid{ grid-template-columns:1fr 1fr; }
  .card-start .start-title{font-size:34px}
}
@media (max-width: 640px){
  .grid{ grid-template-columns:1fr; }
  .header{justify-content:center}
}

/* Modal */
.modal{ position:fixed; inset:0; display:none; }
.modal[aria-hidden="false"]{ display:block; }
.modal-backdrop{
  position:absolute; inset:0; background:rgba(15,23,42,.45); backdrop-filter: blur(4px);
}
.modal-card{
  position:relative; max-width:860px; margin:6vh auto; background:var(--card); border-radius:22px;
  box-shadow:var(--shadow); padding:24px 22px 16px; border:1px solid #e5e7eb;
}
.icon-btn.close{ position:absolute; right:10px; top:10px; background:#efefef; border:none;border-radius:999px; width:36px; height:36px; cursor:pointer; }
.modal-header h2{ margin:4px 0 8px; font-size:28px }
.lede{ color:var(--muted); margin:0 0 14px; font-size:16px }

.selector{ display:flex; flex-wrap:wrap; gap:10px; margin-bottom:8px }
.chip{
  border:1px solid #cfe0ff; background:#edf4ff; color:#0c2f66;
  padding:10px 14px; border-radius:999px; cursor:pointer; font-weight:700;
}
.chip.selected{ background:#cfe0ff; border-color:#9fc1ff }

.list-wrap{ max-height:50vh; overflow:auto; border:1px solid #e5e7eb; border-radius:16px; padding:8px; background:#f7fbff }
.q-list{ list-style:none; padding:0; margin:0; }
.q-list li{
  display:flex; align-items:flex-start; gap:10px; padding:10px 8px; border-bottom:1px solid #eaeef5; line-height:1.35;
}
.q-list li:last-child{ border-bottom:none }
.q-list input{ margin-top:3px }

.empty{ text-align:center; color:var(--muted); padding:22px }

.modal-footer{ display:flex; gap:10px; justify-content:flex-end; align-items:center; margin-top:12px }
.primary{
  background:linear-gradient(180deg,#60a5fa,#3b82f6);
  color:white; border:none; border-radius:12px; padding:12px 18px; font-weight:800; cursor:pointer;
}
.primary[disabled]{opacity:.5; cursor:not-allowed}
.secondary{
  border:1px solid #cbd5e1; border-radius:12px; padding:10px 14px; text-decoration:none; color:#0b2a5d; font-weight:700; background:#f8fafc;
}

/* Focus */
:where(button,a,input):focus-visible{ outline:3px solid var(--ring); outline-offset:2px }

/* Print styles */
@media print {
  body{ background:#fff }
  .modal-card{ box-shadow:none; border:none }
}

<!-- ======================================================================
File: /app.js
====================================================================== -->
/* Data model: topics with questions and links.
   NOTE: You can edit questions/links here without touching HTML. */
const TOPICS = {
  during: {
    title: "I am about to or going through treatment",
    moreLink: "https://ilonafridman.github.io/treatment/treatment.html",
    resourceLink: "https://ilonafridman.github.io/treatment/treatment.html#resources",
    questions: [
      "Can you walk me through the steps involved in my treatment plan?",
      "What side effects should I expect from my treatment?",
      "Are there any tools or tips you recommend for coping with common side effects?",
      "When should I contact my healthcare team between visits?",
      "Whom should I talk to if I need to deal with side effects?",
      "Who can I reach out to between appointments if I have questions or concerns?",
      "How long does it take for a doctor to answer my questions that I ask using my chart?",
      "What should I do if my personal situation makes it hard to get to treatment?",
      "Are there counselors or support groups available for people in my situation?",
      "What integrative therapy services are available to support me during treatment?",
      "Who can help me with transportation to my treatment appointments?",
      "The cost of my treatment is high—what options do I have for financial assistance?"
    ]
  },
  integrative: {
    title: "I hope to learn about complementary & integrative therapy",
    moreLink: "https://ilonafridman.github.io/complementary/complementary.html",
    resourceLink: "https://ilonafridman.github.io/complementary/complementary.html#resources",
    questions: [
      "Which integrative therapies (e.g., acupuncture, massage, mindfulness) are safe with my treatment?",
      "What evidence supports these therapies for people with my diagnosis?",
      "Could supplements or herbs interact with my medicines or treatments?",
      "Who should I consult before trying vitamins, herbs, or over-the-counter products?",
      "Can integrative therapies reduce fatigue, pain, or anxiety during treatment?",
      "Are integrative services available at our center or nearby?",
      "How many sessions are usually needed and how soon might I feel benefits?",
      "Are these services covered by insurance or available at reduced/no cost?",
      "How should I track benefits or side effects from integrative therapies?",
      "Who should I contact if I notice any concerning effects?"
    ]
  },
  after: {
    title: "I completed my treatment. What is next?",
    moreLink: "https://ilonafridman.github.io/afterdiagnosis/afterdiagnosis.html",
    resourceLink: "https://ilonafridman.github.io/afterdiagnosis/afterdiagnosis.html#resources",
    questions: [
      "What follow-up visits and tests do I need, and how often?",
      "Which symptoms should prompt me to call the clinic between visits?",
      "What late or long-term side effects should I look out for?",
      "How can I manage fatigue, pain, or brain fog after treatment?",
      "When is it safe to return to work, exercise, and daily routines?",
      "How can I support my emotional health and reduce anxiety about recurrence?",
      "What vaccines, screenings, or primary-care visits do I need?",
      "Who can help with financial/insurance questions after treatment?",
      "Are there survivorship programs, support groups, or classes I can join?",
      "How do I get a written survivorship care plan?"
    ]
  }
};

/* Elements */
const startHereBtn = document.getElementById("startHereBtn");
const startModal = document.getElementById("startModal");
const questionList = document.getElementById("questionList");
const emptyState = document.getElementById("emptyState");
const printBtn = document.getElementById("printBtn");
const moreBtn = document.getElementById("moreBtn");
const resourceBtn = document.getElementById("resourceBtn");

/* Modal helpers */
function openModal(id){
  const el = document.getElementById(id);
  el.setAttribute("aria-hidden","false");
  // focus first focusable
  const first = el.querySelector("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])");
  if(first) first.focus();
  document.addEventListener("keydown", escClose);
}
function closeModal(id){
  const el = document.getElementById(id);
  el.setAttribute("aria-hidden","true");
  document.removeEventListener("keydown", escClose);
}
function escClose(e){ if(e.key === "Escape"){ document.querySelectorAll(".modal[aria-hidden='false']").forEach(m=>m.setAttribute("aria-hidden","true")); } }

document.querySelectorAll("[data-open]").forEach(btn=>{
  btn.addEventListener("click", e => {
    e.preventDefault();
    openModal(btn.getAttribute("data-open"));
  });
});
document.querySelectorAll("[data-close]").forEach(btn=>btn.addEventListener("click", ()=>closeModal(btn.getAttribute("data-close"))));
document.querySelectorAll(".modal-backdrop").forEach(bg=>bg.addEventListener("click", ()=>closeModal(bg.getAttribute("data-close"))));

startHereBtn.addEventListener("click", ()=>openModal("startModal"));

/* Topic selection */
const chips = Array.from(document.querySelectorAll(".chip"));
let currentTopic = "during";
chips.forEach(chip=>{
  chip.addEventListener("click", ()=>{
    chips.forEach(c=>c.classList.remove("selected"));
    chip.classList.add("selected");
    currentTopic = chip.dataset.topic;
    hydrateQuestions(currentTopic);
  });
});

/* Render questions */
function hydrateQuestions(topicKey){
  const topic = TOPICS[topicKey];
  questionList.innerHTML = "";
  if(!topic){ emptyState.hidden = false; return; }
  emptyState.hidden = true;

  topic.questions.forEach((q, idx) => {
    const id = `q-${topicKey}-${idx}`;
    const li = document.createElement("li");
    li.innerHTML = `
      <input type="checkbox" id="${id}" />
      <label for="${id}">${q}</label>
    `;
    questionList.appendChild(li);
  });

  moreBtn.href = topic.moreLink;
  resourceBtn.href = topic.resourceLink;
  setPrintEnabled(false);
}

function setPrintEnabled(enabled){
  printBtn.disabled = !enabled;
}

/* Enable print when any checkbox is selected */
questionList.addEventListener("change", ()=>{
  const any = questionList.querySelector("input[type='checkbox']:checked");
  setPrintEnabled(!!any);
});

/* Print/Download selected questions */
printBtn.addEventListener("click", ()=>{
  const topic = TOPICS[currentTopic];
  const selected = Array.from(questionList.querySelectorAll("input[type='checkbox']:checked"))
    .map(cb => cb.nextElementSibling.textContent.trim());

  if(selected.length === 0) return;

  // Open a print-friendly window (safer cross-browser than building a Blob PDF without libs).
  const w = window.open("", "_blank");
  const html = `
    <!doctype html><html><head>
      <meta charset="utf-8" />
      <title>My Questions — ${topic.title}</title>
      <style>
        body{font-family: ui-sans-serif, system-ui; padding:28px; line-height:1.45}
        h1{font-size:22px;margin:0 0 16px}
        .meta{color:#334155;margin-bottom:16px}
        ol{padding-left:20px}
        li{margin:8px 0}
        .small{font-size:12px;color:#64748b;margin-top:24px}
      </style>
    </head><body>
      <h1>My Questions</h1>
      <div class="meta">${topic.title}</div>
      <ol>${selected.map(s=>`<li>${s}</li>`).join("")}</ol>
      <div class="small">Tip: bring this list to your appointment. Space to write answers:</div>
      <hr />
      <p style="min-height:140px"></p>
      <script>window.addEventListener('load',()=>window.print())<\/script>
    </body></html>`;
  w.document.write(html);
  w.document.close();
});

/* Init default topic */
hydrateQuestions(currentTopic);
